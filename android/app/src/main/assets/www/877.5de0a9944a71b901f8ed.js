"use strict";(self.webpackChunksosgame=self.webpackChunksosgame||[]).push([[877],{877(e,s,o){o.d(s,{default:()=>t});var n=o(130),a=o(366);const c={};function t(e,s){s.log("fake chan");const o=(0,n.A)(["error","open","message","beforeclose","close"]);c[e]={onmessage:function(e){s.log("Websocket message received: "+e);const n=JSON.parse(e);return o.call("message",n)}};(async()=>{await(0,a.c)(10),o.call("open",e)})();return{on:o.on,send:async(o,n,t,r)=>{const l={from:e,to:t,action:o,data:n,ignore:r};s.log("Sending ["+e+"] to ["+t+"]: "+JSON.stringify(n));const i=JSON.stringify(l);await(0,a.c)(10);for(const[s,o]of Object.entries(c))s!==e&&o.onmessage(i)},close:async()=>(await o.call("beforeclose",e),delete c[e],o.call("close",e)),ready:function(){return Promise.resolve()}}}}}]);